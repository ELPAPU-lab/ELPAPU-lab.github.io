<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>PAPU Speedruns</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body{
  background:black;
  color:white;
  margin:0;
  font-family:'Press Start 2P', monospace;
  position:relative;
  overflow-x:hidden;
}

/* ---------- CRT SCANLINES ---------- */
body::before{
  content:"";
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:
    repeating-linear-gradient(
      rgba(0,0,0,0.2) 0 1px,
      rgba(0,0,0,0) 1px 2px
    );
  pointer-events:none;
  z-index:9999;
  mix-blend-mode:overlay;
  animation:scanline 0.5s linear infinite;
}

@keyframes scanline{
  0%{background-position:0 0;}
  100%{background-position:0 2px;}
}

/* ---------- TOP COLORS ---------- */
.top1{color:#FFD700; text-shadow:0 0 5px #FFD700,0 0 10px #FFD700,0 0 15px #FFD700;}
.top2{color:#C0C0C0;}
.top3{color:#CD7F32;}

/* ---------- MENU ---------- */
.menu{
  position:fixed;
  top:20px;
  right:30px;
  font-size:48px;
  cursor:pointer;
  z-index:100;
}

/* MENU PANEL */
.menu-panel{
  display:none;
  position:fixed;
  top:90px;
  right:30px;
  background:#111;
  border:4px solid white;
  padding:20px;
  width:320px;
  animation:slideDown 0.3s ease;
}

.menu-panel button{
  width:100%;
  margin-bottom:12px;
  padding:14px;
  font-family:'Press Start 2P';
  font-size:14px;
  background:black;
  color:white;
  border:3px solid white;
  cursor:pointer;
  transition:transform 0.15s, box-shadow 0.15s;
}

.menu-panel button:hover{
  transform:scale(1.05);
  box-shadow:0 0 12px white;
}

/* ---------- CATEGORY PANELS ---------- */
.big-category{
  display:block;
  margin:40px auto;
  background:#111;
  border:4px solid white;
  padding:30px;
  width:85%;
  text-align:center;
  animation:popIn 0.6s ease;
}

.big-category button{
  width:100%;
  margin:14px 0;
  padding:18px;
  font-family:'Press Start 2P';
  font-size:16px;
  background:black;
  color:white;
  border:4px solid white;
  cursor:pointer;
  transition:transform 0.15s, box-shadow 0.15s;
}

.big-category button:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px white;
}

.category-panel{
  display:none;
  position:fixed;
  top:90px;
  right:380px;
  background:#111;
  border:4px solid white;
  padding:20px;
  width:260px;
  animation:slideRight 0.3s ease;
}

.category-panel button{
  width:100%;
  margin-bottom:12px;
  padding:12px;
  font-family:'Press Start 2P', monospace;
  background:black;
  color:white;
  border:3px solid white;
  cursor:pointer;
  transition:transform 0.15s;
}

.category-panel button:hover{
  transform:scale(1.05);
}

/* ---------- TITLES ---------- */
.title{
  text-align:center;
  font-size:64px;
  margin-top:60px;
  animation:slideDown 0.6s ease;
}

.subtitle{
  text-align:center;
  margin-top:20px;
  font-size:24px;
  animation:slideDown 0.8s ease;
}

/* ---------- TABLES ---------- */
table{
  width:95%;
  margin:50px auto;
  border-collapse:collapse;
  font-size:16px;
  display:none;
  animation:popIn 0.4s ease;
}

th,td{
  border:3px solid white;
  padding:12px;
  text-align:center;
}

th{background:#222;}

a{color:#00ffcc;text-decoration:none;}

/* ---------- INFO PANELS ---------- */
.info-panel{
  display:none;
  margin:60px auto;
  background:#111;
  border:4px solid white;
  padding:30px;
  width:80%;
  text-align:center;
  position:relative;
  animation:popIn 0.4s ease;
}

.close-btn{
  position:absolute;
  top:12px;
  right:16px;
  font-size:24px;
  cursor:pointer;
}
.close-btn:hover{color:red;}

/* ---------- ANIMATIONS ---------- */
@keyframes popIn{
  from{opacity:0; transform:scale(0.9);}
  to{opacity:1; transform:scale(1);}
}
@keyframes slideDown{
  from{opacity:0; transform:translateY(-20px);}
  to{opacity:1; transform:translateY(0);}
}
@keyframes slideRight{
  from{opacity:0; transform:translateX(30px);}
  to{opacity:1; transform:translateX(0);}
}
</style>
</head>

<body>

<div class="menu" onclick="toggleMenu()">☰</div>

<div class="menu-panel" id="menuPanel">
  <button id="menuCatBtn" onclick="toggleCategories()" style="display:none">Categorías</button>
  <button onclick="showImport()">Importar Speedruns</button>
  <button onclick="showRules()">REGLAS</button>
</div>

<div class="category-panel" id="categoryPanel">
  <button onclick="showCategory('lvl11')">1-1 Level</button>
  <button onclick="showCategory('any')">Any%</button>
  <button onclick="showCategory('warpless')">Warpless</button>
</div>

<div class="title">PAPU SPEEDRUNS</div>
<div class="subtitle">NES Speedruns</div>

<div class="big-category" id="bigCategory">
  <button onclick="firstCategory('lvl11')">1-1 Level</button>
  <button onclick="firstCategory('any')">Any%</button>
  <button onclick="firstCategory('warpless')">Warpless</button>
</div>

<table id="lvl11">
<tr><th>Puesto</th><th>Jugador</th><th>Tiempo</th><th>Plataforma</th><th>Video</th></tr>
<tr>
<td></td><td>ELPAPU</td><td>18.59</td><td>NESTOPIA</td>
<td><a href="https://youtu.be/ww1Ba536FFE?si=d0WaEpmVn96MX46K" target="_blank">VER</a></td>
</tr>
</table>

<table id="any">
<tr><th>Puesto</th><th>Jugador</th><th>Tiempo</th><th>Plataforma</th><th>Video</th></tr>
</table>

<table id="warpless">
<tr><th>Puesto</th><th>Jugador</th><th>Tiempo</th><th>Plataforma</th><th>Video</th></tr>
</table>

<div class="info-panel" id="importPanel">
<span class="close-btn" onclick="closePanels()">✕</span>
Mandá tu video a<br><b>elpapu3388@gmail.com</b>
</div>

<div class="info-panel" id="rulesPanel">
<span class="close-btn" onclick="closePanels()">✕</span>
1) Video completo<br><br>
2) Sin editar<br><br>
3) Inicio y final visibles
</div>

<script>
let firstTime=true;
const menuPanel=document.getElementById("menuPanel");
const categoryPanel=document.getElementById("categoryPanel");
const bigCategory=document.getElementById("bigCategory");
const menuCatBtn=document.getElementById("menuCatBtn");

const lvl11=document.getElementById("lvl11");
const any=document.getElementById("any");
const warpless=document.getElementById("warpless");

const importPanel=document.getElementById("importPanel");
const rulesPanel=document.getElementById("rulesPanel");

function hideAll(){
  [lvl11,any,warpless].forEach(t=>t.style.display="none");
  importPanel.style.display="none";
  rulesPanel.style.display="none";
}

function toggleMenu(){
  menuPanel.style.display=menuPanel.style.display==="block"?"none":"block";
  if(menuPanel.style.display==="none"){categoryPanel.style.display="none";}
}

function toggleCategories(){
  categoryPanel.style.display=categoryPanel.style.display==="block"?"none":"block";
}

function firstCategory(id){
  bigCategory.style.display="none";
  menuCatBtn.style.display="block";
  showCategory(id);
}

function showCategory(id){
  hideAll();
  const table=document.getElementById(id);
  table.style.display="table";
  sortTable(table);
  menuPanel.style.display="none";
  categoryPanel.style.display="none";
  window.scrollTo(0,300);
}

function showImport(){hideAll();importPanel.style.display="block";}
function showRules(){hideAll();rulesPanel.style.display="block";}
function closePanels(){importPanel.style.display="none"; rulesPanel.style.display="none";}

/* SORT + COLOR TOP 1/2/3 */
function sortTable(table){
  const rows=[...table.rows].slice(1);
  const valid=rows.filter(r=>r.cells[2].innerText!=="");
  valid.sort((a,b)=>parseFloat(a.cells[2].innerText)-parseFloat(b.cells[2].innerText));
  valid.forEach((r,i)=>{
    r.classList.remove("top1","top2","top3");
    if(i===0)r.classList.add("top1");
    if(i===1)r.classList.add("top2");
    if(i===2)r.classList.add("top3");
    r.cells[0].innerText=i+1;
    table.appendChild(r);
  });
}
</script>

</body>
</html>
